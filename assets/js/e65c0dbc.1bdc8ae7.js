"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[2703],{3905:function(e,t,r){r.d(t,{Zo:function(){return c},kt:function(){return y}});var a=r(7294);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},i=Object.keys(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var s=a.createContext({}),l=function(e){var t=a.useContext(s),r=t;return e&&(r="function"==typeof e?e(t):o(o({},t),e)),r},c=function(e){var t=l(e.components);return a.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},p=a.forwardRef((function(e,t){var r=e.components,n=e.mdxType,i=e.originalType,s=e.parentName,c=d(e,["components","mdxType","originalType","parentName"]),p=l(r),y=n,g=p["".concat(s,".").concat(y)]||p[y]||u[y]||i;return r?a.createElement(g,o(o({ref:t},c),{},{components:r})):a.createElement(g,o({ref:t},c))}));function y(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var i=r.length,o=new Array(i);o[0]=p;var d={};for(var s in t)hasOwnProperty.call(t,s)&&(d[s]=t[s]);d.originalType=e,d.mdxType="string"==typeof e?e:n,o[1]=d;for(var l=2;l<i;l++)o[l]=r[l];return a.createElement.apply(null,o)}return a.createElement.apply(null,r)}p.displayName="MDXCreateElement"},9504:function(e,t,r){r.r(t),r.d(t,{frontMatter:function(){return d},contentTitle:function(){return s},metadata:function(){return l},toc:function(){return c},default:function(){return p}});var a=r(7462),n=r(3366),i=(r(7294),r(3905)),o=["components"],d={id:"dao-registry-adapter",title:"DAO Registry"},s=void 0,l={unversionedId:"contracts/adapters/utils/dao-registry-adapter",id:"contracts/adapters/utils/dao-registry-adapter",isDocsHomePage:!1,title:"DAO Registry",description:"The DAO Registry adapter is an utility adapter that allows members to update their own delegated keys.",source:"@site/docs/contracts/adapters/utils/DaoRegistry.md",sourceDirName:"contracts/adapters/utils",slug:"/contracts/adapters/utils/dao-registry-adapter",permalink:"/docs/contracts/adapters/utils/dao-registry-adapter",editUrl:"https://github.com/openlawteam/tribute-contracts/edit/docs/website/docs/contracts/adapters/utils/DaoRegistry.md",tags:[],version:"current",frontMatter:{id:"dao-registry-adapter",title:"DAO Registry"},sidebar:"docs",previous:{title:"NFT",permalink:"/docs/contracts/adapters/utils/nft-adapter"},next:{title:"Signatures",permalink:"/docs/contracts/adapters/utils/signature-adapter"}},c=[{value:"Workflow",id:"workflow",children:[{value:"Update Delegated Key",id:"update-delegated-key",children:[]}]},{value:"Access Flags",id:"access-flags",children:[{value:"DaoRegistry",id:"daoregistry",children:[]}]},{value:"Dependencies",id:"dependencies",children:[{value:"DaoRegistry",id:"daoregistry-1",children:[]},{value:"Voting",id:"voting",children:[]}]},{value:"Structs",id:"structs",children:[]},{value:"Storage",id:"storage",children:[]},{value:"Functions",id:"functions",children:[{value:"receive",id:"receive",children:[]},{value:"updateDelegateKey",id:"updatedelegatekey",children:[]}]},{value:"Events",id:"events",children:[{value:"UpdateDelegateKey",id:"updatedelegatekey-1",children:[]}]}],u={toc:c};function p(e){var t=e.components,r=(0,n.Z)(e,o);return(0,i.kt)("wrapper",(0,a.Z)({},u,r,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"The DAO Registry adapter is an utility adapter that allows members to update their own delegated keys."),(0,i.kt)("p",null,"It is considered a Generic adapter because it does not rely on any proposals to perform an action that changes the DAO state."),(0,i.kt)("h2",{id:"workflow"},"Workflow"),(0,i.kt)("h3",{id:"update-delegated-key"},"Update Delegated Key"),(0,i.kt)("p",null,"The members need send a transaction with the new key to update their own delegated keys. If the key is already in use by another member, the transaction will revert. If the key is zero, the transaction reverts as well. If the new key matches a member address, it will also revert."),(0,i.kt)("h2",{id:"access-flags"},"Access Flags"),(0,i.kt)("h3",{id:"daoregistry"},"DaoRegistry"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"UPDATE_DELEGATE_KEY"))),(0,i.kt)("h2",{id:"dependencies"},"Dependencies"),(0,i.kt)("h3",{id:"daoregistry-1"},"DaoRegistry"),(0,i.kt)("h3",{id:"voting"},"Voting"),(0,i.kt)("h2",{id:"structs"},"Structs"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"There are no structures.")),(0,i.kt)("h2",{id:"storage"},"Storage"),(0,i.kt)("p",null,"The adapter does not keep track of any state."),(0,i.kt)("h2",{id:"functions"},"Functions"),(0,i.kt)("h3",{id:"receive"},"receive"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-solidity"},"    /**\n     * @notice default fallback function to prevent from sending ether to the contract.\n     */\n    receive() external payable\n")),(0,i.kt)("h3",{id:"updatedelegatekey"},"updateDelegateKey"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-solidity"},"     /**\n     * @notice Allows the member/advisor to update their delegate key\n     * @param dao The DAO address.\n     * @param delegateKey the new delegate key.\n     */\n    function updateDelegateKey(DaoRegistry dao, address delegateKey)\n        external\n        reentrancyGuard(dao)\n        onlyMember(dao)\n")),(0,i.kt)("h2",{id:"events"},"Events"),(0,i.kt)("h3",{id:"updatedelegatekey-1"},"UpdateDelegateKey"),(0,i.kt)("p",null,"When a member updates the delegated key."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"event UpdateDelegateKey(address memberAddress, address newDelegateKey);"))))}p.isMDXComponent=!0}}]);